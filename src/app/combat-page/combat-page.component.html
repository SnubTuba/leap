<div class="flex flex-col justify-items-center text-center">
  <div
    class="flex flex-col justify-items-center text-center px-5"
    *ngIf="gameState === 'fighting'"
  >
    <p>A group of monsters approach!</p>

    <p>Lv: {{ player.level }}</p>
    <p>{{ player.hp }} / {{ player.maxHp }} Player health</p>
    <p>{{ player.mp }} / {{ player.maxMp }} Player mp</p>

    <div *ngFor="let monster of monsters; let i = index">
      <div *ngIf="!(monster.hp <= 0)">
        <p>Monster {{ i + 1 }} ({{ monster.name }}) health: {{ monster.hp }}</p>
        <app-spell-button (click)="attackAction(i)" bgColor="bg-blue-500">
          Attack Monster with
          {{
            selectedActon === "attack" ? "normal attack" : selectedSpell?.name
          }}
        </app-spell-button>
      </div>
    </div>

    <div class="grid grid-cols-2 grid-rows-2 grid-flow-col">
      <app-spell-button bgColor="bg-blue-500" (click)="attackBtn()">
        Attack
      </app-spell-button>
      <app-spell-button bgColor="bg-blue-500" (click)="spellBtn()">
        Spell
      </app-spell-button>
      <app-spell-button bgColor="bg-blue-500"> ??? </app-spell-button>
      <app-spell-button bgColor="bg-blue-500" (click)="confirmRun()">
        Run
      </app-spell-button>
    </div>
  </div>

  <div>
    <p *ngIf="gameState === 'lost'">
      You Died!
      <app-spell-button bgColor="bg-blue-500" (click)="returnHome()"
        >Return Home</app-spell-button
      >
    </p>
  </div>
  <div>
    <p *ngIf="gameState === 'win'">
      You Win!
      <app-spell-button bgColor="bg-blue-500" (click)="returnHome()"
        >Return Home</app-spell-button
      >
    </p>
  </div>
  <div>
    <p *ngIf="gameState === 'error'">
      An Error Occured
      <app-spell-button bgColor="bg-blue-500" (click)="returnHome()"
        >Return Home</app-spell-button
      >
    </p>
  </div>

  <div><p *ngIf="gameState === 'loading'">Loading</p></div>
  <div>
    <div *ngIf="gameState === 'selectingSpell'" class="my-2">
      <div *ngFor="let spell of unlocksService.getUnlockedSpells()">
        <app-spell-button bgColor="bg-blue-500" (click)="selectSpell(spell)">
          {{ spell.name }}
        </app-spell-button>
      </div>
    </div>
  </div>

  <div class="border-gray-500 border-solid border-2 border-spacing-6">
    Combat Log
    <div *ngFor="let log of combatLogService.combatLog">{{ log }}</div>
  </div>
</div>
